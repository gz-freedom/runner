<div class="container">
  <div class="card bg-light add-form">
      <div class="card-body">
        <form [formGroup]="angForm" novalidate>
          <div class="row">
            <div class="col-6">
              <div class="form-group row">
                <label class="col-2 col-form-label">公里</label>
                <div class="col-10">
                  <input type="number" class="form-control" formControlName="mileage" #mileage />
                  <!-- <div *ngIf="angForm.controls['mileage'].invalid && (angForm.controls['mileage'].dirty || angForm.controls['mileage'].touched)" class="alert alert-danger">
                    <div *ngIf="angForm.controls['mileage'].errors.required">这是必填项</div>
                  </div> -->
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group row">
                <label class="col-2 col-form-label">用时</label>
                <div class="col-10">
                    <div class="input-group">
                        <input type="number" class="form-control" formControlName="scoreHour" id="score-hour" #scoreHour>
                        <div class="input-group-append">
                          <span class="input-group-text">小时</span>
                        </div>
                        <input type="number" class="form-control" formControlName="scoreMinute" id="score-minute" #scoreMinute>
                        <div class="input-group-append">
                          <span class="input-group-text">分</span>
                        </div>
                        <input type="number" class="form-control" formControlName="scoreSecond" id="score-second" #scoreSecond>
                        <div class="input-group-append">
                          <span class="input-group-text">秒</span>
                        </div>
                    </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group row">
                <label class="col-2 col-form-label">配速</label>
                <div class="col-10">
                  <div class="input-group">
                    <input type="number" class="form-control" formControlName="speedMinute" id="speed-minute" #speedMinute>
                    <div class="input-group-append">
                      <span class="input-group-text">分</span>
                    </div>
                    <input type="number" class="form-control" formControlName="speedSecond" id="speed-second" #speedSecond>
                    <div class="input-group-append">
                      <span class="input-group-text">秒</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
                <div class="form-group row">
                  <label class="col-2 col-form-label">日期</label>
                  <div class="col-10">
                    <input class="form-control" formControlName="addedDate" #addedDate [owlDateTime]="dt" [owlDateTimeTrigger]="dt" placeholder="Please select date to add">
                    <owl-date-time [pickerType]="'calendar'" #dt></owl-date-time>
                  </div>
                </div>
              </div>
            <div class="col-6">
              <div class="form-group row">
                <label class="col-2 col-form-label">备注</label>
                <div class="col-10">
                  <input type="text" class="form-control" formControlName="note" #note />
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <button (click)="addMileage(mileage.value, speedMinute.value, speedSecond.value, note.value, addedDate.value, scoreHour.value, scoreMinute.value, scoreSecond.value)" 
                [disabled]="angForm.pristine || angForm.invalid" 
                class="btn btn-warning float-right">增加跑量</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- run list -->
    <table class="table table-hover">
      <thead>
      <tr>
          <td>Mileage</td>
          <td>Speed</td>
          <td>Note</td>
          <td colspan="2">Actions</td>
      </tr>
      </thead>
    
      <tbody>
          <tr *ngFor="let m of mileages">
              <td>{{ m.mileage }}</td>
              <td>{{ m.speed }}</td>
              <td>{{ m.note }}</td>
              <td><a [routerLink]="['edit', m._id]" class="btn btn-primary">Edit</a></td>
              <td><a (click) = "deleteMileage(m._id)" class="btn btn-danger">Delete</a></td>
          </tr>
      </tbody>
    </table>
</div>
